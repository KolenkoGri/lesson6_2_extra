{"version":3,"file":"../../js/modules/article.js","names":["articleList","document","querySelector","paginationArrowLeft","paginationArrowRight","pagination","loadArticles","async","url","result","fetch","json","loadPagination","querySelectorAll","forEach","p","addEventListener","replaceChildren","textContent","renderArticles","data","map","item","insertAdjacentHTML","id","title","i","meta","pages","page"],"sources":["modules/article.js"],"mappings":"AAAA,MAAMA,YAAcC,SAASC,cAAc,kBACrCC,oBAAsBF,SAASC,cAAc,2BAC7CE,qBAAuBH,SAASC,cAAc,4BAC9CG,WAAaJ,SAASC,cAAc,6BAEnC,MAAMI,aAAeC,MAAOC,EAAM,2CACrC,MAAMC,QAAeC,MAAMF,GAE3B,aADmBC,EAAOE,MACf,EAGf,MAAMC,eAAiB,KACMX,SAASY,iBAAiB,uBAClCC,SAASC,IACtBA,EAAEC,iBAAiB,SAAS,KACxBhB,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8CS,EAAEG,eAC7DC,gBAAgB,GAClB,GACJ,EAGAA,eAAiBZ,UACnB,MAAMa,QAAad,eACnBc,EAAKA,KAAKC,KAAKC,IACXtB,YAAYuB,mBAAmB,YAAa,qMAIWD,EAAKE,QAAQF,EAAKG,2nBAcvE,IAGN,IAAK,IAAIC,EAAI,EAAGA,GAAKN,EAAKO,KAAKtB,WAAWuB,MAAOF,IAC7CrB,WAAWkB,mBAAmB,YAAa,2CACXG,eAGpCvB,oBAAoBa,iBAAiB,SAAS,KACT,IAA9BI,EAAKO,KAAKtB,WAAWwB,OACpB7B,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,+CAA8Cc,EAAKO,KAAKtB,WAAWwB,KAAO,IACvFV,iBACJ,IAGJf,qBAAqBY,iBAAiB,SAAS,KACxCI,EAAKO,KAAKtB,WAAWwB,OAAST,EAAKO,KAAKtB,WAAWuB,QAClD5B,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8Cc,EAAKO,KAAKtB,WAAWwB,KAAO,KACvFV,iBACJ,IAvDqBlB,SAASY,iBAAiB,uBAClCC,SAASC,IACtBA,EAAEC,iBAAiB,SAAS,KACxBhB,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8CS,EAAEG,eAC7DC,gBAAgB,GAClB,GAmDU,EAGpBA","sourcesContent":["const articleList = document.querySelector('.article__list');\nconst paginationArrowLeft = document.querySelector('.pagination__arrow-left');\nconst paginationArrowRight = document.querySelector('.pagination__arrow-right');\nconst pagination = document.querySelector('.pagination__pages');\n\nexport const loadArticles = async (url = 'https://gorest.co.in/public-api/posts') => {\n    const result = await fetch(url);\n    const data = await result.json();\n    return data;\n}\n\nconst loadPagination = () => {\n    const paginationNumber = document.querySelectorAll('.pagination__number');\n    paginationNumber.forEach((p) => {\n        p.addEventListener('click', () => {\n            articleList.replaceChildren();\n            pagination.replaceChildren();\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${p.textContent}`);\n            renderArticles();\n        });\n    });\n};\n\nconst renderArticles = async () => {\n    const data = await loadArticles();\n    data.data.map((item) => {\n        articleList.insertAdjacentHTML('beforeend', `\n        <li class=\"article__item\">\n            <div class=\"article__image--main\"></div>\n            <div class=\"article__info\">\n                <a class=\"article__title\" href=\"page.html?id=${item.id}\" >${item.title}</a>\n                <div class=\"article__date\">22 октября 2021, 12:45</div>\n                <div class=\"article__metrics\">\n                    <div class=\"article__views\">\n                        <div class=\"article__image--eye\"></div>\n                        <div class=\"article__count--eye\">1.9K</div>\n                    </div>\n                    <div class=\"article__comments\">\n                        <div class=\"article__image--message\"></div>\n                        <div class=\"article__count--message\">0</div>\n                    </div>\n                </div>\n            </div>\n        </li> \n        `);\n    });\n\n    for (let i = 1; i <= data.meta.pagination.pages; i ++ ){\n        pagination.insertAdjacentHTML('beforeend', `\n        <a class=\"pagination__number\">${i}</a>\n    `)\n    }\n    paginationArrowLeft.addEventListener('click', () => {\n        if(data.meta.pagination.page !== 1) {\n            articleList.replaceChildren();\n            pagination.replaceChildren();\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${data.meta.pagination.page - 1}`);\n            renderArticles();\n        }\n    });\n\n    paginationArrowRight.addEventListener('click', () => {\n        if(data.meta.pagination.page !== data.meta.pagination.pages) {\n            articleList.replaceChildren();\n            pagination.replaceChildren();\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${data.meta.pagination.page + 1}`);\n            renderArticles();\n        }\n    });\n\n    loadPagination();\n}\n\nrenderArticles();\n\n\n"]}