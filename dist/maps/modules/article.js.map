{"version":3,"file":"../../js/modules/article.js","names":["articleList","document","querySelector","paginationArrowLeft","paginationArrowRight","pagination","loadArticles","async","url","result","fetch","json","loadPagination","querySelectorAll","forEach","p","addEventListener","replaceChildren","textContent","renderArticles","data","map","item","insertAdjacentHTML","id","title","i","meta","pages","page"],"sources":["modules/article.js"],"mappings":"AAAA,MAAMA,YAAcC,SAASC,cAAc,kBACrCC,oBAAsBF,SAASC,cAAc,2BAC7CE,qBAAuBH,SAASC,cAAc,4BAC9CG,WAAaJ,SAASC,cAAc,6BAEnC,MAAMI,aAAeC,MAAOC,EAAM,2CACrC,MAAMC,QAAeC,MAAMF,GAE3B,aADmBC,EAAOE,MACf,EAGf,MAAMC,eAAiB,KACMX,SAASY,iBAAiB,uBAClCC,SAASC,IACtBA,EAAEC,iBAAiB,SAAS,KACxBhB,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8CS,EAAEG,eAC7DC,gBAAgB,GAClB,GACJ,EAGAA,eAAiBZ,UACnB,MAAMa,QAAad,eACnBc,EAAKA,KAAKC,KAAKC,IACXtB,YAAYuB,mBAAmB,YAAa,qMAIWD,EAAKE,QAAQF,EAAKG,2nBAcvE,IAGN,IAAK,IAAIC,EAAI,EAAGA,GAAKN,EAAKO,KAAKtB,WAAWuB,MAAOF,IAC7CrB,WAAWkB,mBAAmB,YAAa,2CACXG,eAGpCvB,oBAAoBa,iBAAiB,SAAS,KACT,IAA9BI,EAAKO,KAAKtB,WAAWwB,OACpB7B,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,+CAA8Cc,EAAKO,KAAKtB,WAAWwB,KAAO,IACvFV,iBACJ,IAGJf,qBAAqBY,iBAAiB,SAAS,KACxCI,EAAKO,KAAKtB,WAAWwB,OAAST,EAAKO,KAAKtB,WAAWuB,QAClD5B,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8Cc,EAAKO,KAAKtB,WAAWwB,KAAO,KACvFV,iBACJ,IAvDqBlB,SAASY,iBAAiB,uBAClCC,SAASC,IACtBA,EAAEC,iBAAiB,SAAS,KACxBhB,YAAYiB,kBACZZ,WAAWY,kBACXX,aAAa,8CAA8CS,EAAEG,eAC7DC,gBAAgB,GAClB,GAmDU,EAGpBA","sourcesContent":["const articleList = document.querySelector('.article__list');\r\nconst paginationArrowLeft = document.querySelector('.pagination__arrow-left');\r\nconst paginationArrowRight = document.querySelector('.pagination__arrow-right');\r\nconst pagination = document.querySelector('.pagination__pages');\r\n\r\nexport const loadArticles = async (url = 'https://gorest.co.in/public-api/posts') => {\r\n    const result = await fetch(url);\r\n    const data = await result.json();\r\n    return data;\r\n}\r\n\r\nconst loadPagination = () => {\r\n    const paginationNumber = document.querySelectorAll('.pagination__number');\r\n    paginationNumber.forEach((p) => {\r\n        p.addEventListener('click', () => {\r\n            articleList.replaceChildren();\r\n            pagination.replaceChildren();\r\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${p.textContent}`);\r\n            renderArticles();\r\n        });\r\n    });\r\n};\r\n\r\nconst renderArticles = async () => {\r\n    const data = await loadArticles();\r\n    data.data.map((item) => {\r\n        articleList.insertAdjacentHTML('beforeend', `\r\n        <li class=\"article__item\">\r\n            <div class=\"article__image--main\"></div>\r\n            <div class=\"article__info\">\r\n                <a class=\"article__title\" href=\"page.html?id=${item.id}\" >${item.title}</a>\r\n                <div class=\"article__date\">22 октября 2021, 12:45</div>\r\n                <div class=\"article__metrics\">\r\n                    <div class=\"article__views\">\r\n                        <div class=\"article__image--eye\"></div>\r\n                        <div class=\"article__count--eye\">1.9K</div>\r\n                    </div>\r\n                    <div class=\"article__comments\">\r\n                        <div class=\"article__image--message\"></div>\r\n                        <div class=\"article__count--message\">0</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </li> \r\n        `);\r\n    });\r\n\r\n    for (let i = 1; i <= data.meta.pagination.pages; i ++ ){\r\n        pagination.insertAdjacentHTML('beforeend', `\r\n        <a class=\"pagination__number\">${i}</a>\r\n    `)\r\n    }\r\n    paginationArrowLeft.addEventListener('click', () => {\r\n        if(data.meta.pagination.page !== 1) {\r\n            articleList.replaceChildren();\r\n            pagination.replaceChildren();\r\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${data.meta.pagination.page - 1}`);\r\n            renderArticles();\r\n        }\r\n    });\r\n\r\n    paginationArrowRight.addEventListener('click', () => {\r\n        if(data.meta.pagination.page !== data.meta.pagination.pages) {\r\n            articleList.replaceChildren();\r\n            pagination.replaceChildren();\r\n            loadArticles(`https://gorest.co.in/public-api/posts?page=${data.meta.pagination.page + 1}`);\r\n            renderArticles();\r\n        }\r\n    });\r\n\r\n    loadPagination();\r\n}\r\n\r\nrenderArticles();\r\n\r\n\r\n"]}