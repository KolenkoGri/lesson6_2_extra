import{renderPage}from"./page.js";import{loadArticles}from"./api.js";const main=document.querySelector("main"),renderArticles=async()=>{const e=await loadArticles();main.replaceChildren(),main.insertAdjacentHTML("afterbegin",'\n    <section class="article">\n        <div class="container article__container">\n            <div class="page__path">\n                <a class="page__name" href="index.html">Главная</a>\n                <div class="page__arrow"></div>\n                <div class="page__name">Блог</div>\n            </div>\n            <ul class="article__list"></ul>\n\n            <div class="pagination">\n                    <a class="pagination__arrow pagination__arrow-left" href=""></a>\n                    <div class="pagination__pages">\n\n                    </div>\n                    <a class="pagination__arrow pagination__arrow-right" href=""></a>\n                </div>\n            </div>\n        </section>\n    ');const a=document.querySelector(".article__list"),i=document.querySelector(".pagination__arrow-left"),n=document.querySelector(".pagination__arrow-right"),t=document.querySelector(".pagination__pages");e.data.map((e=>{a.insertAdjacentHTML("beforeend",`\n        <li class="article__item">\n            <div class="article__image--main"></div>\n            <div class="article__info">\n                <a class="article__title" href="page.html?id=${e.id}" >${e.title}</a>\n                <div class="article__date">22 октября 2021, 12:45</div>\n                <div class="article__metrics">\n                    <div class="article__views">\n                        <div class="article__image--eye"></div>\n                        <div class="article__count--eye">1.9K</div>\n                    </div>\n                    <div class="article__comments">\n                        <div class="article__image--message"></div>\n                        <div class="article__count--message">0</div>\n                    </div>\n                </div>\n            </div>\n        </li> \n        `)}));for(let a=1;a<=e.meta.pagination.pages;a++)t.insertAdjacentHTML("beforeend",`\n        <a class="pagination__number">${a}</a>\n    `);i.addEventListener("click",(()=>{1!==e.meta.pagination.page&&(a.replaceChildren(),t.replaceChildren(),loadArticles("https://gorest.co.in/public-api/posts?page="+(e.meta.pagination.page-1)),renderArticles())})),n.addEventListener("click",(()=>{e.meta.pagination.page!==e.meta.pagination.pages&&(a.replaceChildren(),t.replaceChildren(),loadArticles(`https://gorest.co.in/public-api/posts?page=${e.meta.pagination.page+1}`),renderArticles())}))},loadPagination=async()=>{document.querySelectorAll(".pagination__number").forEach((e=>{e.addEventListener("click",(()=>{articleList.replaceChildren(),pagination.replaceChildren(),loadArticles(`https://gorest.co.in/public-api/posts?page=${e.textContent}`),renderArticles()}))}))},footerItemBlog=document.querySelector(".footer__item-blog");footerItemBlog.addEventListener("click",(async e=>{e.preventDefault(),await renderArticles(),await loadPagination();document.querySelector(".menu").classList.toggle("menu-open")}));
//# sourceMappingURL=../../maps/modules/article.js.map
