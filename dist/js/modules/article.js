const articleList=document.querySelector(".article__list"),paginationArrowLeft=document.querySelector(".pagination__arrow-left"),paginationArrowRight=document.querySelector(".pagination__arrow-right"),pagination=document.querySelector(".pagination__pages");export const loadArticles=async(e="https://gorest.co.in/public-api/posts")=>{const i=await fetch(e);return await i.json()};const loadPagination=()=>{document.querySelectorAll(".pagination__number").forEach((e=>{e.addEventListener("click",(()=>{articleList.replaceChildren(),pagination.replaceChildren(),loadArticles(`https://gorest.co.in/public-api/posts?page=${e.textContent}`),renderArticles()}))}))},renderArticles=async()=>{const e=await loadArticles();e.data.map((e=>{articleList.insertAdjacentHTML("beforeend",`\n        <li class="article__item">\n            <div class="article__image--main"></div>\n            <div class="article__info">\n                <a class="article__title" href="page.html?id=${e.id}" >${e.title}</a>\n                <div class="article__date">22 октября 2021, 12:45</div>\n                <div class="article__metrics">\n                    <div class="article__views">\n                        <div class="article__image--eye"></div>\n                        <div class="article__count--eye">1.9K</div>\n                    </div>\n                    <div class="article__comments">\n                        <div class="article__image--message"></div>\n                        <div class="article__count--message">0</div>\n                    </div>\n                </div>\n            </div>\n        </li> \n        `)}));for(let i=1;i<=e.meta.pagination.pages;i++)pagination.insertAdjacentHTML("beforeend",`\n        <a class="pagination__number">${i}</a>\n    `);paginationArrowLeft.addEventListener("click",(()=>{1!==e.meta.pagination.page&&(articleList.replaceChildren(),pagination.replaceChildren(),loadArticles("https://gorest.co.in/public-api/posts?page="+(e.meta.pagination.page-1)),renderArticles())})),paginationArrowRight.addEventListener("click",(()=>{e.meta.pagination.page!==e.meta.pagination.pages&&(articleList.replaceChildren(),pagination.replaceChildren(),loadArticles(`https://gorest.co.in/public-api/posts?page=${e.meta.pagination.page+1}`),renderArticles())})),document.querySelectorAll(".pagination__number").forEach((e=>{e.addEventListener("click",(()=>{articleList.replaceChildren(),pagination.replaceChildren(),loadArticles(`https://gorest.co.in/public-api/posts?page=${e.textContent}`),renderArticles()}))}))};renderArticles();
//# sourceMappingURL=../../maps/modules/article.js.map
